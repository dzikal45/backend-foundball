{"version":3,"file":"error.spec.js","sourceRoot":"","sources":["../../../src/__tests__/signatur/error.spec.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,IAAI,EAAE,MAAM,EAAE,MAAM,yBAAyB,CAAC;AACvD,OAAO,EAAE,IAAI,EAAE,MAAM,EAAE,MAAM,gBAAgB,CAAC;AAE9C,EAAE,CAAC,8BAA8B,EAAE,KAAK,IAAI,EAAE;IAC5C,IAAI;QACF,MAAM,IAAI,CAAC,IAAa,EAAE,IAAa,CAAC,CAAC;KAC1C;IAAC,OAAO,CAAC,EAAE;QACV,MAAM,CAAC,CAAC,CAAC,CAAC,aAAa,CACrB,IAAI,SAAS,CAAC,oDAAoD,CAAC,CAAC,CAAC;KACxE;AACH,CAAC,CAAC,CAAC;AAEH,EAAE,CAAC,gCAAgC,EAAE,KAAK,IAAI,EAAE;IAC9C,IAAI;QACF,MAAM,IAAI,CAAC,IAAI,EAAE,IAAa,CAAC,CAAC;KACjC;IAAC,OAAO,CAAC,EAAE;QACV,MAAM,CAAC,CAAC,CAAC,CAAC,aAAa,CACrB,IAAI,SAAS,CAAC,sDAAsD,CAAC,CAAC,CAAC;KAC1E;AACH,CAAC,CAAC,CAAC;AAGH,MAAM,SAAS,GAAG,6GAA6G,CAAC;AAEhI,EAAE,CAAC,mCAAmC,EAAE,KAAK,IAAI,EAAE;IACjD,IAAI;QACF,MAAM,MAAM,CAAC,IAAa,EAAE,IAAa,CAAC,CAAC;KAC5C;IAAC,OAAO,CAAC,EAAE;QACV,MAAM,CAAC,CAAC,CAAC,CAAC,aAAa,CACrB,IAAI,SAAS,CAAC,yDAAyD,CAAC,CAAC,CAAC;KAC7E;AACH,CAAC,CAAC,CAAC;AAEH,EAAE,CAAC,gCAAgC,EAAE,KAAK,IAAI,EAAE;IAC9C,IAAI;QACF,MAAM,MAAM,CAAC,SAAS,EAAE,IAAa,CAAC,CAAC;KACxC;IAAC,OAAO,CAAC,EAAE;QACV,MAAM,CAAC,CAAC,CAAC,CAAC,aAAa,CACrB,IAAI,SAAS,CAAC,sDAAsD,CAAC,CAAC,CAAC;KAC1E;AACH,CAAC,CAAC,CAAC;AAEH,EAAE,CAAC,iCAAiC,EAAE,KAAK,IAAI,EAAE;IAC/C,IAAI;QACF,MAAM,MAAM,CAAC,SAAS,EAAE,MAAM,CAAC,CAAC;KACjC;IAAC,OAAO,CAAC,EAAE;QACV,MAAM,CAAC,CAAC,CAAC,MAAM,EAAE,CAAC,CAAC,aAAa,CAAC;YAC/B,KAAK,EAAE;gBACL,IAAI,EAAE,mBAAmB;gBACzB,OAAO,EAAE,qBAAqB;aAC/B;SACF,CAAC,CAAC;KACJ;AACH,CAAC,CAAC,CAAC","sourcesContent":["import { sign, unsign } from '../../signatur/index.js';\nimport { data, secret } from './CONSTANTS.js';\n\nit(`throws when undefined 'data'`, async () => {\n  try {\n    await sign(null as never, null as never);\n  } catch (e) {\n    expect(e).toStrictEqual(\n      new TypeError(`Expected 'data' to be defined, but received 'null'`));\n  }\n});\n\nit(`throws when undefined 'secret'`, async () => {\n  try {\n    await sign(data, null as never);\n  } catch (e) {\n    expect(e).toStrictEqual(\n      new TypeError(`Expected 'secret' to be defined, but received 'null'`));\n  }\n});\n\n// tslint:disable-next-line: max-line-length\nconst signature = 'eyJkYXRhIjp7InNlY3JldEluc2lkZSI6IjEyMyIsInNlY3JldEtleSI6NDU2fX0.WlF_-gDYzfBBPksdvhVvaP_MQ9PWoRiwADbI3MapRg4';\n\nit(`throws when undefined 'signature'`, async () => {\n  try {\n    await unsign(null as never, null as never);\n  } catch (e) {\n    expect(e).toStrictEqual(\n      new TypeError(`Expected 'signature' to be defined, but received 'null'`));\n  }\n});\n\nit(`throws when undefined 'secret'`, async () => {\n  try {\n    await unsign(signature, null as never);\n  } catch (e) {\n    expect(e).toStrictEqual(\n      new TypeError(`Expected 'secret' to be defined, but received 'null'`));\n  }\n});\n\nit('throws when signature not match', async () => {\n  try {\n    await unsign('123.456', secret);\n  } catch (e) {\n    expect(e.toJSON()).toStrictEqual({\n      error: {\n        type: 'invalid_signature',\n        message: 'Signature not match',\n      },\n    });\n  }\n});\n"]}