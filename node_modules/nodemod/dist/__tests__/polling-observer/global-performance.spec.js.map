{"version":3,"file":"global-performance.spec.js","sourceRoot":"","sources":["../../../src/__tests__/polling-observer/global-performance.spec.ts"],"names":[],"mappings":"AAAA,OAAO,YAAY,CAAC;AAEpB,SAAS,CAAC,GAAG,EAAE;IAEb,MAAM,CAAC,MAAM,CAAC,MAAM,EAAE,EAAE,MAAM,EAAE,SAAS,EAAE,CAAC,CAAC;AAC/C,CAAC,CAAC,CAAC;AAEH,EAAE,CAAC,8BAA8B,EAAE,KAAK,IAAI,EAAE;IAC5C,MAAM,EAAE,iBAAiB,EAAE,GAAG,MAAM,MAAM,CAAC,8CAA8C,CAAC,CAAC;IAE3F,MAAM,IAAI,GAAG,MAAM,iBAAiB,EAAE,CAAC;IACvC,MAAM,QAAQ,GAAI,IAAoD,CAAC,QAAQ,CAAC;IAEhF,MAAM,CAAC,OAAM,CAAC,QAAQ,CAAC,CAAC,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC;AACrD,CAAC,CAAC,CAAC;AAEH,EAAE,CAAC,sCAAsC,EAAE,KAAK,IAAI,EAAE;IAEpD,MAAM,CAAC,MAAM,CAAC,MAAM,EAAE,EAAE,MAAM,EAAE,EAAE,EAAE,CAAC,CAAC;IAEtC,MAAM,EAAE,iBAAiB,EAAE,GAAG,MAAM,MAAM,CAAC,8CAA8C,CAAC,CAAC;IAE3F,MAAM,IAAI,GAAG,MAAM,iBAAiB,EAAE,CAAC;IAEvC,MAAM,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;AAC/B,CAAC,CAAC,CAAC","sourcesContent":["import './setup.js';\n\nafterEach(() => {\n  /** NOTE(motss): Remove fake 'window' object */\n  Object.assign(global, { window: undefined });\n});\n\nit(`uses 'perf_hooks' on Node.js`, async () => {\n  const { globalPerformance } = await import('../../polling-observer/global-performance.js');\n\n  const perf = await globalPerformance();\n  const timerify = (perf as unknown as import('perf_hooks').Performance).timerify;\n\n  expect(typeof(timerify)).toStrictEqual('function');\n});\n\nit(`uses 'window.Performance' on browser`, async () => {\n  /** NOTE(motss): Fake a browser runtime environment */\n  Object.assign(global, { window: {} });\n\n  const { globalPerformance } = await import('../../polling-observer/global-performance.js');\n\n  const perf = await globalPerformance();\n\n  expect(perf).toBe(undefined);\n});\n"]}